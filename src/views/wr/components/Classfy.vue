<template>
  <div class="box">
    <van-sticky>
      <van-search
        v-model="searchValue"
        class="search"
        shape="round"
        :placeholder="placeholderValue"
        @focus="searchFocus"
        @input="searchGoods"
        @search="confirmSearch"
        @blur="searchBlur"
      />
      <van-button round type="info" class="searchBtn" @click="confirmSearch"
        >ÊêúÁ¥¢</van-button
      >
    </van-sticky>
  </div>
</template>

<script>
export default {
  name: "Search",
  data() {
    return {
      searchValue: "",
      searchList: ["ÂúüË±Üü•î", "ÁâõÂ•∂ü•õ", "È∏°Ëõãü•ö", "Êñπ‰æøÈù¢"],
      i: 0,
      placeholderValue: "ÂúüË±Üü•î",
      // ÊêúÁ¥¢Ê°ÜËá™Âä®ÂèòÂåñ‰∫ã‰ª∂
      showInputPlc: null,
    };
  },
  methods: {
    // Ê∏ÖÈô§ÊêúÁ¥¢Ê°Ü
    searchFocus() {
      clearInterval(this.showInputPlc);
      this.$router.push("/searchList");
    },
    // ÊêúÁ¥¢Ê°ÜÁ¶ªÂºÄËß¶ÂèëËá™Âä®ÂèòÂåñ‰∫ã‰ª∂
    searchBlur() {
      this.showInputPlc = setInterval(() => {
        this.i++;
        if (this.i == this.searchList.length) {
          this.i = 0;
        }
        this.placeholderValue = this.searchList[this.i];
      }, 2000);
    },
    // ÊêúÁ¥¢Ê°ÜËæìÂÖ•‰∫ã‰ª∂ÔºåÊ≠§Â§ÑÂèëËØ∑Ê±ÇÔºåÂπ∂Ë∑≥ËΩ¨Âà∞ÊêúÁ¥¢ÂàóË°®ÁªÑ‰ª∂
    searchGoods() {
    },
    // Á°ÆËÆ§ÊêúÁ¥¢‰∫ã‰ª∂ÔºåË∑≥ËΩ¨Âà∞ÊêúÁ¥¢È°µÁªÑ‰ª∂ÔºåÊê∫Â∏¶ÊêúÁ¥¢ÂèÇÊï∞ÔºåÂπ∂‰∏îÂèëËµ∑ËØ∑Ê±Ç
    confirmSearch() {
      this.$rouer.push("/searchlist");
    },
  },
  mounted() {
    this.showInputPlc = setInterval(() => {
      this.i++;
      if (this.i == this.searchList.length) {
        this.i = 0;
      }
      this.placeholderValue = this.searchList[this.i];
    }, 2000);
  },
};
</script>

<style scoped>
.box {
  position: relative;
}
.search {
  background-color: white;
}
.searchBtn {
  position: absolute;
  right: 0.3rem;
  top: 50%;
  transform: translateY(-50%);
  height: 50%;
}
</style>
